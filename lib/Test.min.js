var e=this.self||global;function f(a){this.a=a?a.clone():{}}function j(a,c){function d(){var a=b.shift();a&&a(h)}var b=Object.keys(a.a).map(function(b){return a.a[b]}),h=new Task(b.length,function(a){c&&c(a)},"",d);d()}var k="process"in e,l="WorkerLocation"in e,m="document"in e,n="console"in e;f.name="Test";f.repository="https://github.com/uupaa/Test.js";f.prototype.add=function(a){var c=this;a.forEach(function(a){c.a[a.name]=a});return this};
f.prototype.clone=function(){var a={},c;for(c in this.a)a[c]=this.a[c];return a};
f.prototype.run=function(a){function c(){j(d,function(b){b?console.error("Browser error."):console.log("Browser ok.");document.body.style.backgroundColor=b?"red":"lime";Object.keys(d.a).forEach(function(a){if(!document.querySelector("#"+a)){var b=document.createElement("input");b.setAttribute("id",a);b.setAttribute("type","button");b.setAttribute("value",a+"()");b.setAttribute("onclick",a+"()");document.body.appendChild(b)}});a&&a(b,d)})}var d=this;m?(e.addEventListener("error",function(){document.body.style.backgroundColor=
"red"}),"complete"===document.readyState?c():e.addEventListener("load",c)):k?j(d,function(b){b?console.error("\u001b[31mNode error.\u001b[0m"):console.log("\u001b[32mNode ok.\u001b[0m");a&&a(b,d)}):l&&j(d,function(b){n&&(b?console.error("Worker error."):console.log("Worker ok."));b&&(e.errorMessage=b.message);a&&a(b,d)});return this};
f.prototype.worker=function(a,c){if(l||!("Worker"in e))a&&a(null,this);else{c=c||{};var d=this,b=c.type||"inline",h=c.src||"#worker",g=null;"inline"===b?(b=document.querySelector(h))&&"Blob"in e&&(g=new Worker((URL||webkitURL).createObjectURL(new Blob([b.textContent],{type:"application/javascript"})))):"url"===b&&(g=new Worker(h));g?(b=location.href.split("/"),b.pop(),b=b.join("/")+"/",g.onmessage=function(b){if(b=b.data.error)document.body.style.backgroundColor="red";a&&a(b?Error(b):null,d)},g.postMessage({baseDir:b})):
a&&a(null,d);return this}};k&&(module.exports=f);e.Test?e.Test_=f:e.Test=f;
